<p>It all starts with a podometer sending an update to the ingestion service, which verifies that the update contains all required data. The ingestion service then sends the update to a <em class="calibre10">Kafka</em> topic, and the podometer device is acknowledged so it knows that the update has been well-received and will be processed. The update will be handled by multiple consumers listening on that particular <em class="calibre10">Kafka</em> topic, and among them is the activity service. This service will record the data to the <em class="calibre10">PostgreSQL</em> database, then publish another record to a <em class="calibre10">Kafka</em> topic with the number of steps done by the podometer on that day. This record is being picked by the event stats service, which observes updates over windows of 5 seconds, splits by city, and aggregates the number of steps. It then posts an update with the increment in steps observed for a given city as another <em class="calibre10">Kafka</em> record. This record is then consumed by the dashboard web application, which finally sends an update to all connected web browsers that in turn update the display.</p>