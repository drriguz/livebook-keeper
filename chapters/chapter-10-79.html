<p>Remember that <code class="code">register</code> is called after validation, so we expect the JSON data to be good. We pass the authentication provider the username, password, and 2 empty lists for roles and permissions. It then populates the database with a new document. We then have to run a query to update the newly-created document, and append new entries. The MongoDB query is given in listing <a class="calibre8 pcalibre" href="/book/vertx-in-action/chapter-10/v-10/user-insert-query" shape="rect" title="Example 10.8. MongoDB query to update a new user">10.8</a> and is represented as a JSON object.</p>