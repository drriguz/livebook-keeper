<p>The <code class="code">amqpConfig</code> method that we use here provides a configuration with hard-coded values. This is great for testing purposes as we do in this book, but for production settings you would, of course, resolve credentials, hostnames and port numbers from some external source. These could be environment variables or a registry service such as Apache ZooKeeper or Consul. We also set up the connection for durable messaging and declare manual acknowledgment, as we want to retry message processing if ever writing to a Kafka topic fails.</p>