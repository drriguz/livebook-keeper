<p>We first connect to the MongoDB database, then ensure we have 2 indexes for the <code class="code">username</code> and <code class="code">deviceId</code> fields. We then need to remove all existing documents from the <code class="code">profiles</code> database (see listing <a class="calibre8 pcalibre" href="/book/vertx-in-action/chapter-10/v-10/dropAllUsers" shape="rect" title="Example 10.28. Deleting all users in the MongoDB database">10.28</a>), and deploy an instance of the <code class="code">UserProfileApiVerticle</code> verticle before successfully completing the initialization phase.</p>