<p>The code to ingest from HTTP is very similar to that of ingesting with AMQP. The most notable difference is that a HTTP status code needs to be set, so that the device that sent an update knows that ingestion has failed and must be retried later. We first need a HTTP server and router as in listing <a class="calibre8 pcalibre" href="/book/vertx-in-action/chapter-9/v-10/ingest-http" shape="rect" title="Example 9.9. HTTP server for ingestion">9.9</a>.</p>