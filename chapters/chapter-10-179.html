<p>Note that we could also peek into database and check the data that is being stored after each action. Since we need to cover all functional cases of the HTTP API it is more straightforward to focus on just the HTTP API in the integration tests. Now there are cases where an API on top of a database may not expose you to some important effects on the stored data, and in these cases you will need to connect to the database to do some further assertions.</p>