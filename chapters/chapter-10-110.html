<p>Since the update request is a JSON document coming from a HTTP request, there is always a possibility of an external attack if we are not careful. We could indeed imagine that a malicious user crafts a JSON document in the request with updates to the password or username, and this is why we test for the presence of each allowed field in updates: <code class="code">city</code>, <code class="code">email</code> and <code class="code">makePublic</code>. We then create a JSON document with updates just for these fields rather than reusing the JSON document received over HTTP, and make an update request to the Vert.x MongoDB client.</p>