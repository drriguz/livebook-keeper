<p>The circuit breaker executes an operation, which here is making 2 HTTP requests to the user profile service then making a JWT token. The operation result is a <code class="code">Single&lt;String&gt;</code> of the JWT token value. The execution method passes a promise to the wrapped code, so it can notify if the operation succeeded or not. The <code class="code">handleAuthError</code> method had to be modified as in listing <a class="calibre8 pcalibre" href="/book/vertx-in-action/chapter-12/v-10/handleAuthError" shape="rect" title="Example 12.15. Handling authentication error">12.15</a> to check what is the source of any error.</p>