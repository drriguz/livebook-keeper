<p>The implementation of method <code class="code">hydrate</code> relies on getting a ranking of the devices over the last 24 hours. The service returns a JSON array ordered in the number of steps. We allow an arbitrary 5 seconds delay before doing the request, and allow 5 retries in case the activity service is not available. Once we have ranking data, then method <code class="code">whoOwnsDevice</code> (listing <a class="calibre8 pcalibre" href="/book/vertx-in-action/chapter-11/v-10/whoOwnsDevice" shape="rect" title="Example 11.21. Finding who owns a device">11.21</a>) and <code class="code">fillWithUserProfile</code> (listing <a class="calibre8 pcalibre" href="/book/vertx-in-action/chapter-11/v-10/fillWithUserProfile" shape="rect" title="Example 11.22. Adding user data to a ranking data">11.22</a>) correlate a pedometer-centric data with a user. Finally method <code class="code">hydrateEntryIfPublic</code> of listing <a class="calibre8 pcalibre" href="/book/vertx-in-action/chapter-11/v-10/hydrateEntryIfPublic" shape="rect" title="Example 11.23. Hydration of public user data">11.23</a> fills the <code class="code">publicRanking</code> collection with data from users who opted to be in public rankings.</p>