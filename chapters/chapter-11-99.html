<p>The throughput and city trends are updated every 5 seconds with updates coming from Kafka records, and whose JSON payloads are forwarded to the dashboard web application. This works well because updates are frequent and cover aggregated data, but as we are going to see now, things are more complicated for the users ranking.</p>